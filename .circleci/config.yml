version: 2

jobs:
  build:
    docker:
      - image: circleci/python:latest
    steps: 
      - run: echo "build"  
  deploy:
    docker:
      - image: circleci/python:latest
    steps: 
      - run: echo "deploy"

workflows:
  version: 2

  stage_workflow:
    job:
      - build:
          filters:
            branches:
             only: main
      - deploy:
          filters:
            branches:
              only: main
          requires:
            - build    
   